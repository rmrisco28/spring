<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // 이미 있는 promise를 사용 할것. 만드지는 않을것입니다.
    function action1() {
        return new Promise((resolve, reject) => {  // Promise를 반환하도록 수정
            setTimeout(() => {
                const number = Math.random();
                if (number < 0.5) {
                    resolve("결과");
                } else {
                    reject("에러");
                }
            }, 1000);
        });
    };

    function wrapping1() {
        action1()
            .then(res => console.log(res)) // 성공(resolve)
            .catch(err => console.log(err)); // 실패 (reject)
        console.log("어떤 실행 코드")
    };

    wrapping1();

    // await: 비동기(async) 코드를 동기(sync) 코드 처럼 사용 가능
    // await 다른 함수가 끝나기를 기다리는 코드
    // await 코드는 async 함 수 내에 있어야 함.
    async function wrapping2() {
        const a = await action1(); // action1 함수가 끝나기를 기다린다.
        console.log(a)
        console.log("어떤 또 다른 실행 코드")
    }

    wrapping2();
</script>
</body>
</html>